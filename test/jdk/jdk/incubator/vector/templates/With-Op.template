
    @Test(dataProvider = "$type$UnaryOpProvider")
    static void with$vectorteststype$(IntFunction<$type$ []> fa) {
        $type$[] a = fa.apply(SPECIES.length());
        $type$[] r = new $type$[a.length];

        for (int ic = 0; ic < INVOC_COUNT; ic++) {
            for (int i = 0; i < a.length; i += SPECIES.length()) {
              $abstractvectortype$<Shapes.S$bits$Bit> av = SPECIES.fromArray(a, i);
              av.with(0, ($type$)4).intoArray(r, i);
            }
        }

        assertInsertArraysEquals(a, r, ($type$)4, 0);
    }
